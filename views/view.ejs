<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>コード公開ページ</title>
  <style>body, html { margin: 0; height: 100vh; }</style>
</head>
<body>
  <iframe id="preview" style="border: none; width: 100%; height: 100%;"></iframe>

  <script>
    const files = <%- JSON.stringify(files) %>;

    const blob = new Blob(
      [files["public/index.html"] || "<h1>index.htmlがありません</h1>"],
      { type: 'text/html' }
    );
    document.getElementById('preview').src = URL.createObjectURL(blob);
  </script>
</body>
</html>
